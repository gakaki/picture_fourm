---
name: 论坛核心功能
status: open
created: 2025-09-05T05:07:42Z
updated: 2025-09-05T05:23:33Z
github: https://github.com/gakaki/picture_fourm/issues/2
depends_on: [7]
parallel: true
conflicts_with: []
---

# Task: 论坛核心功能

## 描述
实现帖子发布、展示、分类系统和热度排序算法。包括帖子CRUD操作、三级分类体系（风格、用途、工具）、瀑布流展示、热门推荐算法实现。

## 验收标准
- [ ] 帖子发布API完成（图像+提示词+描述）
- [ ] 帖子列表API完成（分页、筛选、排序）
- [ ] 帖子详情API完成
- [ ] 三级分类系统实现
- [ ] 热度排序算法实现
- [ ] 浏览量统计功能

## 技术细节
- API端点：POST /api/v1/posts、GET /api/v1/posts、GET /api/v1/posts/:id
- 分类维度：风格（赛博朋克、古风等）、用途（头像、海报等）、工具（Gemini、Nano-Banana等）
- 热度算法：点赞×0.4 + 评论×0.3 + 浏览×0.2 + 时间衰减×0.1
- 使用MongoDB聚合管道优化查询
- Redis缓存热门内容（TTL 1小时）

## 依赖
- [ ] 任务002完成（需要用户认证）
- [ ] MongoDB posts集合设计完成
- [ ] Redis缓存服务可用

## 工作量估算
- 规模：L
- 工时：16小时
- 并行：true（可与任务005、006并行）

## 完成标准
- [ ] 代码实现完成
- [ ] 单元测试覆盖率>80%
- [ ] API文档更新
- [ ] 性能测试（1000条帖子查询<200ms）
- [ ] 分类数据初始化脚本完成
